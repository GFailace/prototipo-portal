import{a as j}from"./chunk-AFVK37BM.js";import{e as w,j as y}from"./chunk-NHQIUECH.js";import{a as A,b as V}from"./chunk-PA2VT7HQ.js";import"./chunk-F7FOKUKQ.js";import"./chunk-PE7RODJA.js";import{c as S,f as k,h as T,n as F,o as I,p as B,s as L,v as D,w as W}from"./chunk-IAHTW4I6.js";import{Ra as z,Ta as N,j as q,k as x,p as b,ra as E}from"./chunk-MJDQIN5M.js";import{Bb as d,Db as v,Ha as a,Ma as h,Rb as p,Sa as M,Sb as u,Ub as O,Wb as f,Xb as _,Ya as m,Yb as C,bc as P,mb as c,nb as n,ob as i,pb as g}from"./chunk-46BPWYI5.js";import"./chunk-EQDQRRRY.js";var H=o=>[o,"pmoc"];function G(o,r){if(o&1&&(n(0,"option",13),p(1),i()),o&2){let t=r.$implicit;c("value",t.value),a(),u(t.label)}}function J(o,r){o&1&&(n(0,"div",14),p(1,"Nenhum equipamento encontrado."),i())}function K(o,r){if(o&1&&(n(0,"div",17)(1,"p-card",18)(2,"div",19)(3,"div",20)(4,"div",21),p(5),i(),n(6,"div",22),p(7),i(),n(8,"div",23),p(9),i()(),n(10,"div",24)(11,"div",25),p(12,"Status do equipamento"),i(),n(13,"div",26),p(14),i(),n(15,"div",27),g(16,"a",28),i()()()()()),o&2){let t=r.$implicit;a(5),u(t.id),a(2),u(t.cliente),a(2),O("",t.ambiente||"-"," \xB7 ",t.capacidadeBtus?t.capacidadeBtus+" BTUs":"-"),a(5),u(t.statusEquipamento==="fora_de_operacao"?"Fora de opera\xE7\xE3o":"Em opera\xE7\xE3o"),a(2),c("routerLink",P(6,H,t.id))}}function Q(o,r){if(o&1&&(n(0,"div",15),m(1,K,17,8,"div",16),i()),o&2){let t=v();a(),c("ngForOf",t.equipments)}}var R=class o{constructor(r){this.svc=r}equipments=[];allEquipments=[];searchTerm="";selectedStatus=null;statusOptions=[{label:"Em opera\xE7\xE3o",value:"em_operacao"},{label:"Fora de opera\xE7\xE3o",value:"fora_de_operacao"}];ngOnInit(){this.allEquipments=[...this.svc.getAllEquipments?this.svc.getAllEquipments():[]],this.applyFilters()}applyFilters(){let r=(this.searchTerm||"").toString().trim().toLowerCase(),t=e=>{if(r){let s=(e.id||"").toString().toLowerCase(),l=(e.cliente||"").toString().toLowerCase(),U=(e.ambiente||"").toString().toLowerCase(),Y=e.capacidadeBtus?e.capacidadeBtus.toString().toLowerCase():"";if(!s.includes(r)&&!l.includes(r)&&!U.includes(r)&&!Y.includes(r))return!1}return!(this.selectedStatus&&(e.statusEquipamento||"")!==this.selectedStatus)};this.equipments=this.allEquipments.filter(t)}clearFilters(){this.searchTerm="",this.selectedStatus=null,this.applyFilters()}static \u0275fac=function(t){return new(t||o)(h(j))};static \u0275cmp=M({type:o,selectors:[["app-client-equipments"]],decls:17,vars:6,consts:[[1,"equipments-wrap"],[1,"equipments-header"],[1,"search-bar","my-4"],[1,"p-input-icon-left","search-input"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Pesquisar por ID, cliente ou equipamento",3,"ngModelChange","input","ngModel"],[1,"select-wrap"],[1,"p-inputtext",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["pButton","","type","button","icon","pi pi-times","aria-label","Limpar filtros",1,"p-button-text","clear-button",3,"click"],["class","empty",4,"ngIf"],["class","list",4,"ngIf"],[3,"value"],[1,"empty"],[1,"list"],["class","equip-row",4,"ngFor","ngForOf"],[1,"equip-row"],[1,"equip-pcard"],[1,"equip-row-inner"],[1,"equip-left"],[1,"equip-id"],[1,"equip-client"],[1,"equip-meta"],[1,"equip-right"],[1,"equip-status"],[1,"equip-status-value"],[1,"equip-actions"],["pButton","","type","button","label","Ver PMOC",1,"p-button-sm","p-button-text",3,"routerLink"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"div",1)(2,"p-header"),p(3,"Meus equipamentos"),i()(),n(4,"div",2)(5,"span",3),g(6,"i",4),n(7,"input",5),C("ngModelChange",function(l){return _(e.searchTerm,l)||(e.searchTerm=l),l}),d("input",function(){return e.applyFilters()}),i()(),n(8,"div",6)(9,"select",7),C("ngModelChange",function(l){return _(e.selectedStatus,l)||(e.selectedStatus=l),l}),d("change",function(){return e.applyFilters()}),n(10,"option",8),p(11,"Todos"),i(),m(12,G,2,2,"option",9),i()(),n(13,"button",10),d("click",function(){return e.clearFilters()}),p(14,"Limpar pesquisa"),i()(),m(15,J,2,0,"div",11)(16,Q,2,1,"div",12),i()),t&2&&(a(7),f("ngModel",e.searchTerm),a(2),f("ngModel",e.selectedStatus),a(),c("ngValue",null),a(2),c("ngForOf",e.statusOptions),a(3),c("ngIf",!(e.equipments!=null&&e.equipments.length)),a(),c("ngIf",e.equipments==null?null:e.equipments.length))},dependencies:[b,q,x,y,w,N,z,E,V,A,L,I,B,S,F,k,T,W,D],styles:['@charset "UTF-8";.equipments-wrap[_ngcontent-%COMP%]{max-width:980px;margin:0 auto;padding:0 1rem}@media (min-width: 1200px){.equipments-wrap[_ngcontent-%COMP%]{max-width:calc(100% - 60px);margin:0 24px;padding-left:24px;padding-right:24px}}p-header[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:600;color:var(--text-color, inherit);margin-bottom:.5rem;line-height:1.2}p-header.section-header[_ngcontent-%COMP%]{display:block;font-size:1.125rem;font-weight:600;color:var(--text-color-secondary, var(--text-color, inherit));margin-bottom:.25rem;line-height:1.25}.empty[_ngcontent-%COMP%]{color:var(--text-color-secondary)}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.equip-row[_ngcontent-%COMP%]{width:100%}.equip-pcard[_ngcontent-%COMP%]{padding:.5rem}.equip-row-inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px}.equip-left[_ngcontent-%COMP%]{flex:1 1 auto}.equip-id[_ngcontent-%COMP%]{font-weight:700;font-size:1.05rem}.equip-client[_ngcontent-%COMP%]{font-size:.92rem;color:var(--text-color-secondary);margin-top:4px}.equip-meta[_ngcontent-%COMP%]{font-size:.86rem;color:var(--text-color-tertiary);margin-top:6px}.equip-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:8px;min-width:150px}.equip-status[_ngcontent-%COMP%]{font-size:.82rem;color:var(--text-color-secondary)}.equip-status-value[_ngcontent-%COMP%]{font-weight:600}.equip-actions[_ngcontent-%COMP%]{margin-top:6px}.search-bar[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;max-width:900px}.p-input-icon-left.search-input[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;position:relative;max-width:calc(100% - 220px)}.p-input-icon-left.search-input[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--text-color-secondary, #6b7280)}.p-input-icon-left.search-input[_ngcontent-%COMP%]   input.p-inputtext[_ngcontent-%COMP%]{padding-left:2.4rem;width:100%}.select-wrap[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12rem}.select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;padding:.35rem 1.6rem .35rem .7rem;border:1px solid var(--p-textarea-border-color, var(--surface-border, #d1d5db));border-radius:.25rem;background:var(--p-textarea-background, #fff);color:var(--text-color, #374151);font-size:.95rem;width:100%;box-sizing:border-box}.select-wrap[_ngcontent-%COMP%]:after{content:"\\203a";position:absolute;right:.6rem;top:50%;transform:translateY(-50%) rotate(90deg);color:var(--p-primary-color, #ff7a18);opacity:.65;pointer-events:none}.clear-button[_ngcontent-%COMP%]{border-radius:9999px}.app-dark[_nghost-%COMP%]   .equip-pcard[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .equip-pcard[_ngcontent-%COMP%]{background:var(--surface-card, #0b1220);color:var(--text-color, #f3f4f6);border:1px solid var(--surface-border, rgba(255, 255, 255, .06))}.app-dark[_nghost-%COMP%]   .equip-client[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .equip-client[_ngcontent-%COMP%], .app-dark[_nghost-%COMP%]   .equip-meta[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .equip-meta[_ngcontent-%COMP%]{color:var(--text-color-secondary, rgba(255, 255, 255, .75))}.app-dark[_nghost-%COMP%]   .equip-status[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .equip-status[_ngcontent-%COMP%]{color:var(--text-color-secondary, rgba(255, 255, 255, .65))}.app-dark[_nghost-%COMP%]   .equip-status-value[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .equip-status-value[_ngcontent-%COMP%]{color:var(--text-color, #f3f4f6)}.app-dark[_nghost-%COMP%]   .p-inputtext[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .p-inputtext[_ngcontent-%COMP%]{background:var(--surface-card, #0b1220);color:var(--text-color, #f3f4f6);border-color:var(--surface-border, rgba(255, 255, 255, .06))}.app-dark[_nghost-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .app-dark   [_nghost-%COMP%]   .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:var(--surface-card, #0b1220);color:var(--text-color, #f3f4f6);border-color:var(--surface-border, rgba(255, 255, 255, .06))}.app-dark[_nghost-%COMP%]   .select-wrap[_ngcontent-%COMP%]:after, .app-dark   [_nghost-%COMP%]   .select-wrap[_ngcontent-%COMP%]:after{color:var(--p-primary-color, #ff7a18);opacity:.85}@media (max-width: 720px){.equip-row-inner[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.equip-right[_ngcontent-%COMP%]{align-items:flex-start}}@media (max-width: 640px){.search-bar[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;width:100%;max-width:none;gap:.5rem}.p-input-icon-left.search-input[_ngcontent-%COMP%]{max-width:none;width:100%}.select-wrap[_ngcontent-%COMP%], .select-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.clear-button[_ngcontent-%COMP%]{align-self:flex-end;margin-top:.25rem}.search-bar[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{display:none}}']})};export{R as ClientEquipmentsComponent};
